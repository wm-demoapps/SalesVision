<wm-page name="Dashboard" pagetitle="Dashboard">
    <wm-header content="header" name="header" height="auto"></wm-header>
    <wm-content name="content">
        <wm-left-panel columnwidth="2" name="leftpanel" content="leftnav"></wm-left-panel>
        <wm-page-content columnwidth="10" name="mainContent">
            <wm-layoutgrid name="layoutgrid1">
                <wm-gridrow name="gridrow19_1">
                    <wm-gridcolumn columnwidth="9" name="gridcolumn29">
                        <wm-label name="welcomeLable" caption="Dashboard" fontunit="em" class="h1 app-label"></wm-label>
                    </wm-gridcolumn>
                    <wm-gridcolumn columnwidth="3" name="gridcolumn30" horizontalalign="right">
                        <wm-switch datavalue="My View" dataset="My View, Team View" accessroles="Regional Sales Head,manager" name="MyViewTeamViewSwitch" on-change="MyViewTeamViewSwitchChange($event, widget, newVal, oldVal)"></wm-switch>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow1">
                    <wm-gridcolumn columnwidth="8" name="gridcolumn1" padding="10px">
                        <wm-container name="salescontainer" class="chart-filter">
                            <wm-chart type="Area" title="Sales" height="384px" iconclass="" name="salesTrendChart" showxaxis="true" xdomain="Default" offsetright="15" offsettop="15" offsetbottom="25" offsetleft="55" showlegend="hide" show="true" highlightpoints="false" interpolation="cardinal"
                                on-beforerender="chart3Beforerender(widget, chartInstance)" ynumberformat=",r" dataset="bind:Variables.SalesVar.dataSet" yaxisdatakey="sales" aggregation="sum" xaxisdatakey="entryDate" aggregationcolumn="sales" groupby="entryDate"
                                xdateformat="%b"></wm-chart>
                        </wm-container>
                    </wm-gridcolumn>
                    <wm-gridcolumn columnwidth="4" name="gridcolumn2" padding="10px">
                        <wm-table name="TopSellingSalesTable" title="Top 5 Selling Policies" dataset="bind:Variables.getTopSellingPolicies.dataSet" navigation="None" gridclass="" height="314px" statehandler="none">
                            <wm-table-column binding="name" caption="Policy" col-class="font-regular" edit-widget-type="text" show="true" type="string" readonly="false"></wm-table-column>
                            <wm-table-column binding="sales" caption="Earnings" width="120px" textalignment="right" col-class="font-semibold" edit-widget-type="number" show="true" type="long" formatpattern="toCurrency" currencypattern="USD" readonly="false"></wm-table-column>
                        </wm-table>
                    </wm-gridcolumn>
                </wm-gridrow>
                <wm-gridrow name="gridrow2">
                    <wm-gridcolumn columnwidth="4" name="gridcolumn3" padding="10px">
                        <wm-panel iconclass="" autoclose="outsideClick" title="Goals" name="panel_goals">
                            <wm-progress-circle width="200px" height="200px" name="progress_circle_goals" type="success" subtitle="Achieved" title="" captionplacement="inside" class="center-block" datavalue="bind:(Variables.QVGetSalesSum.dataSet.salesSum*100)/(Variables.weeklySalesTarget.dataSet.dataValue*4*Variables.QVGetSalesSum.dataSet.repCount)"></wm-progress-circle>
                            <wm-container name="container4" horizontalalign="center" class="progess-ledgers" display="flex" padding="1.5em 1em">
                                <wm-container name="container29" display="inline-flex" class="app-container flex-inline" horizontalalign="left">
                                    <wm-icon name="salesTargetIcon" iconclass="wi wi-lens" color="#E4F8B0" class="pull-left"></wm-icon>
                                    <wm-container name="container6" class="app-container" padding="unset unset unset 10px">
                                        <wm-label name="salesTargetLable" caption="Sales Target" whitespace="nowrap" class="p app-label f1 font-semibold text-black"></wm-label>
                                        <wm-label caption="bind:((Variables.loggedInUser.dataSet.roles[0]=='manager') ? (Variables.weeklySalesTarget.dataSet.dataValue*4*Variables.QVGetSalesSum.dataSet.repCount) : Variables.weeklySalesTarget.dataSet.dataValue*4 ) | toCurrency: '$'" textalign="left"
                                            name="salesTargetValue" class="app-label font-Medium" fontsize="10"></wm-label>
                                    </wm-container>
                                </wm-container>
                                <wm-container name="container30_1" display="inline-flex" class=" app-container flex-inline" horizontalalign="left" padding="unset unset unset 1em">
                                    <wm-icon iconclass="wi wi-lens" name="targetAchievedIcon" class="pull-left text-success"></wm-icon>
                                    <wm-container name="container7" padding="unset unset unset 10px">
                                        <wm-label caption="Achieved" name="targetAchievedLable" class="p app-label f1 text-black font-semibold"></wm-label>
                                        <wm-label name="targetAchivedValue" class="p app-label font-Medium" margin="unset unset 0px unset" caption="bind:Variables.QVGetSalesSum.dataSet.salesSum | toCurrency: '$'" textalign="left" fontsize="10"></wm-label>
                                    </wm-container>
                                </wm-container>
                            </wm-container>
                        </wm-panel>
                    </wm-gridcolumn>
                    <wm-gridcolumn columnwidth="4" name="gridcolumn5" padding="10px">
                        <wm-panel iconclass="" autoclose="outsideClick" title="Top Performers" name="panelTopPerformers" show="false" accessroles="manager">
                            <wm-table name="topPerformersTable" title="" dataset="bind:Variables.QVGetTopPerformers.dataSet" navigation="None" gridclass="" class="p-0 m-0 no-shadow div-ellipsis" height="300px" showheader="false" statehandler="none">
                                <wm-table-column binding="name" caption="Name" widget-type="label" edit-widget-type="text" type="string" readonly="true" show="true">
                                    <wm-label caption="bind:row.getProperty('name').charAt(0)" class="profile-text" conditionalclass="" condtionalstyle=""></wm-label>
                                    <wm-label caption="bind:row.getProperty('name')" class="" conditionalclass="" condtionalstyle=""></wm-label>
                                </wm-table-column>
                                <wm-table-column binding="percent" caption="Percent" widget-type="label" width="60px" edit-widget-type="number" type="double" readonly="true" show="true">
                                    <wm-label caption="bind:row.getProperty('percent') + &quot;%&quot;" class="" conditionalclass="" condtionalstyle="" conditionalstyle=""></wm-label>
                                </wm-table-column>
                            </wm-table>
                        </wm-panel>
                        <wm-panel iconclass="" autoclose="outsideClick" title="Your Deals" name="panelDealStatus" accessroles="Regional Sales Head,manager" show="true">
                            <wm-label caption="bind:&quot;$&quot;+(Variables.QVGetDealStatus.dataSet.reduce(reducer,0)/1000)+&quot;K&quot;" fontsize="28" color="#333d5f" name="yourDealsValue" margin="-0.1em unset unset unset" padding="unset unset unset 0.5em"></wm-label>
                            <wm-table name="dealStatusTable" title="" dataset="bind:Variables.QVGetDealStatus.dataSet" navigation="None" height="262px" gridclass="" class="no-shadow p-0 m-0 div-ellipsis" statehandler="none">
                                <wm-table-column binding="quoteStatus" caption="Status" widget-type="label" edit-widget-type="text" show="true" type="string" readonly="true">
                                    <wm-label caption="bind:row.getProperty('quoteStatus')" class="" conditionalclass="" condtionalstyle=""></wm-label>
                                </wm-table-column>
                                <wm-table-column binding="size" caption="Size" width="100px" edit-widget-type="number" show="true" type="long" readonly="true" formatpattern="toCurrency" currencypattern="USD"></wm-table-column>
                                <wm-table-column binding="volume" caption="Volume" widget-type="label" width="70px" edit-widget-type="number" show="true" type="long" readonly="true">
                                    <wm-label caption="bind:row.getProperty('volume')" class="" conditionalclass="" condtionalstyle=""></wm-label>
                                </wm-table-column>
                            </wm-table>
                        </wm-panel>
                        <wm-table name="upcomingPolicyRenewalsTable" title="Your Upcoming Renewals" dataset="bind:Variables.GetUpcomingSales.dataSet" navigation="None" gridclass="" showheader="false" height="300px" accessroles="Sales Executive,user" class="div-ellipsis" statehandler="none">
                            <wm-table-column binding="quotes.customers.name" caption="Customers Name" widget-type="label" col-class="f1" edit-widget-type="text" searchable="false" show="true" type="string" readonly="true">
                                <wm-label caption="bind:row.getProperty('quotes.customers.name').charAt(0)" class="profile-text" conditionalclass="" condtionalstyle=""></wm-label>
                                <wm-label caption="bind:row.getProperty('quotes.customers.name')" class="" conditionalclass="" condtionalstyle=""></wm-label>
                            </wm-table-column>
                            <wm-table-column binding="renewalPeriod" caption="Renewal Period" widget-type="icon" width="120px" textalignment="right" col-class="text-primary font-regular" edit-widget-type="number" show="true" type="integer" generator="assigned" readonly="true">
                                <wm-icon caption="bind:row.getProperty('renewalPeriod')+' Days Left'" iconclass="sv-reset-clock" iconposition="left" class="" conditionalclass="" conditionalstyle=""></wm-icon>
                            </wm-table-column>
                        </wm-table>
                    </wm-gridcolumn>
                    <wm-gridcolumn columnwidth="4" name="gridcolumn4" padding="10px">
                        <wm-panel iconclass="" autoclose="outsideClick" title="Your Leads Overview" name="leadsPanel">
                            <wm-label padding="0.5em" name="yourLeadsOverviewLable" caption="bind:Variables.WSGetLeadsData.dataSet.totalSize" fontsize="16" fontunit="px" color="#fff" backgroundimage="resources/images/imagelists/shield_icon.png" backgroundrepeat="no-repeat" backgroundposition="center"
                                backgroundattachment="local" margin="unset unset 0.5em 0.75em" show="false"></wm-label>
                            <wm-container name="container8" padding="unset 14px">
                                <wm-label name="topLeadsLable" caption="20 Top Leads" fontsize="15" class="app-label text-info font-semibold" margin="unset unset 8px unset" width="100%"></wm-label>
                                <wm-container name="container5" class="app-container flex-center" padding="unset unset 5px unset">
                                    <wm-label padding="unset 0px unset 7px" name="label9" caption="50% (Compared to previous Month)" class="app-label f2" margin="unset unset 0px unset"></wm-label>
                                    <wm-icon name="icon3" iconsize="16px" class="app-icon-wrapper text-success" iconclass="sv-graph-up"></wm-icon>
                                </wm-container>
                            </wm-container>
                            <wm-table name="LeadsTable" title="" dataset="bind:Variables.WSGetLeadsData.dataSet.records" navigation="None" gridclass="" class="p-0 m-0 no-shadow div-ellipsis" height="248px" statehandler="none">
                                <wm-table-column binding="Name" caption="Name" widget-type="label" edit-widget-type="text" show="true" type="string" readonly="false">
                                    <wm-label name="Name53" class="profile-text" caption="bind:row.getProperty('Name').charAt(0)"></wm-label>
                                    <wm-label caption="bind:row.getProperty('Name')" class="" conditionalclass="" condtionalstyle=""></wm-label>
                                </wm-table-column>
                                <wm-table-column binding="Company" caption="Company" widget-type="undefined" col-class="text-primary f2" edit-widget-type="text" show="true" type="string" readonly="false"></wm-table-column>
                            </wm-table>
                        </wm-panel>
                    </wm-gridcolumn>
                </wm-gridrow>
            </wm-layoutgrid>
        </wm-page-content>
    </wm-content>
    <wm-footer name="footer" content="footer"></wm-footer>
</wm-page>
